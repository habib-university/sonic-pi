use_synth :pluck
define :random_chord_player do |root, repeats|
  repeats.times do
    play root, amp: 0.3, release: 0.3
    play root+3, amp: 0.3, release: 0.3 if one_in(2)
    play root+7, amp: 0.3, release: 0.3 if one_in(2)
    play root+10, amp: 0.3, release: 0.3 if one_in(2)
    
    sleep 0.5
  end
end
define :chord_player do |root, repeats|
  repeats.times do
    play chord(root, :minor7), release: 0.3
    sleep 0.5
  end
end

define :twelve_bar_blues do |root,time|
  time.times do
    chord_player root,1
    chord_player root+5,1
    chord_player root,2
    chord_player root+5,2
    chord_player root,2
    chord_player root+7,2
    chord_player root+5,1
    chord_player root,1
  end
end

twelve_bar_blues :e3,4
